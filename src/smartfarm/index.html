<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>μ¤λ§νΈν μ‘λ¬Ό μ¶”μ² + ν”Όλ“λ°± μ €μ¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script>
    function showRecommendation() {
      const value = document.getElementById("cropSelect").value;
      const result = document.getElementById("result");
      if (value === "") {
        result.innerText = "μ‘λ¬Όμ„ μ„ νƒν•΄μ£Όμ„Έμ”.";
      } else {
        result.innerText = "πΏ μ¶”μ² μ‘λ¬Ό: " + value + " - μ¤λ§νΈν μ¬λ°°μ— μ ν•©ν•©λ‹λ‹¤.";
      }
    }

    function submitFeedback() {
      const feedback = document.getElementById("feedback").value;
      const msg = document.getElementById("feedbackMsg");
      if (feedback.trim() !== "") {
        let history = localStorage.getItem("agrinexus_feedbacks") || "[]";
        const data = JSON.parse(history);
        data.push({ feedback, time: new Date().toLocaleString() });
        localStorage.setItem("agrinexus_feedbacks", JSON.stringify(data));
        msg.innerText = "β… ν”Όλ“λ°±μ΄ μ €μ¥λμ—μµλ‹λ‹¤.";
        document.getElementById("feedback").value = "";
        showFeedbackHistory();
      } else {
        msg.innerText = "β οΈ λ‚΄μ©μ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.";
      }
    }

    function showFeedbackHistory() {
      const historyBox = document.getElementById("feedbackHistory");
      const history = JSON.parse(localStorage.getItem("agrinexus_feedbacks") || "[]");
      historyBox.innerHTML = history.map(item => `<li class='mb-1'>π•’ ${item.time}: ${item.feedback}</li>`).join("");
    }

    window.onload = showFeedbackHistory;
  </script>
</head>
<body class="bg-gray-900 text-white min-h-screen">
  <header class="bg-green-800 text-center p-6 text-2xl font-bold">π± μ¤λ§νΈν μ‘λ¬Ό μ¶”μ² + ν”Όλ“λ°± μ €μ¥</header>
  <main class="max-w-2xl mx-auto p-8">
    <label for="cropSelect" class="block mb-4 text-lg font-semibold">μ‘λ¬Όμ„ μ„ νƒν•μ„Έμ”:</label>
    <select id="cropSelect" class="w-full p-2 rounded text-gray-800">
      <option value="">-- μ‘λ¬Ό μ„ νƒ --</option>
      <option value="μƒμ¶”">μƒμ¶”</option>
      <option value="ν† λ§ν† ">ν† λ§ν† </option>
      <option value="μ‹κΈμΉ">μ‹κΈμΉ</option>
    </select>
    <button onclick="showRecommendation()" class="mt-4 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded">μ¶”μ² λ³΄κΈ°</button>
    <div id="result" class="mt-4 text-green-300 font-medium"></div>

    <section class="mt-10">
      <h3 class="text-lg font-semibold mb-2">π“ ν”Όλ“λ°± λ‚¨κΈ°κΈ°</h3>
      <textarea id="feedback" placeholder="μ΄ κΈ°λ¥μ— λ€ν• μκ²¬μ„ λ‚¨κ²¨μ£Όμ„Έμ”." class="w-full p-2 text-gray-800 rounded mb-2"></textarea>
      <button onclick="submitFeedback()" class="bg-yellow-600 hover:bg-yellow-500 text-white px-4 py-2 rounded">μ μ¶ν•κΈ°</button>
      <p id="feedbackMsg" class="mt-2 text-green-400"></p>
    </section>

    <section class="mt-10">
      <h3 class="text-lg font-semibold mb-2">π“ μ €μ¥λ ν”Όλ“λ°± λ©λ΅</h3>
      <ul id="feedbackHistory" class="text-sm text-gray-300 list-disc ml-5"></ul>
    </section>
  </main>
</body>
</html>
