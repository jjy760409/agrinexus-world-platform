<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>AgriNexus ì‹¤ì‹œê°„ ê³ ê° ì§€ì› ì‹œìŠ¤í…œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white">
<main class="max-w-3xl mx-auto p-6">
  <h1 class="text-2xl font-bold mb-4 text-center">ğŸ’¬ AgriNexus ì‹¤ì‹œê°„ ì „ìë™í™” ê³ ê° ì§€ì› ì‹œìŠ¤í…œ</h1>
  <div class="grid gap-4 mb-6">
    <label for="type" class="block text-sm">ë¬¸ì˜ ìœ í˜• ì„ íƒ:</label>
    <select id="type" class="w-full p-2 text-gray-800 rounded">
      <option value="">-- ì„ íƒí•˜ì„¸ìš” --</option>
      <option value="sensor">ì„¼ì„œ ì˜¤ë¥˜ / ì—°ê²°</option>
      <option value="contract">ê³„ì•½ / ê²¬ì  / ì„¤ì¹˜</option>
      <option value="delivery">ë¬¼ë¥˜ / ë°°ì†¡ / ìœ í†µ</option>
      <option value="ai">AI ë¶„ì„ / ë°ì´í„°</option>
      <option value="account">íšŒì› / ë¡œê·¸ì¸</option>
    </select>
    <label for="message" class="block text-sm">ë¬¸ì˜ ë‚´ìš© ì…ë ¥:</label>
    <textarea id="message" class="w-full p-2 text-gray-800 rounded h-28" placeholder="ì—¬ê¸°ì— ë¬¸ì˜ ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”."></textarea>
    <button onclick="submitCS()" class="bg-green-600 text-white px-4 py-2 rounded w-full">âœ… AI ì‘ë‹µ ë°›ê¸°</button>
  </div>
  <div id="csResult" class="bg-gray-800 p-4 rounded text-sm text-green-300 whitespace-pre-wrap">ğŸ’¬ ì‘ë‹µ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
</main>

<script>
async function submitCS() {
  const type = document.getElementById("type").value;
  const msg = document.getElementById("message").value.trim();
  const prompt = `ë„ˆëŠ” AgriNexus í”Œë«í¼ ê³ ê°ì„¼í„° ë‹´ë‹¹ìì•¼. ë¬¸ì˜ ìœ í˜•ì€ ${type}, ë‚´ìš©ì€ "${msg}"ì•¼. ì‚¬ìš©ìê°€ ì´í•´í•˜ê¸° ì‰½ê²Œ ì¹œì ˆí•˜ê³  ì‹ ì†í•˜ê²Œ ë‹µë³€í•´ì¤˜. í•„ìš”í•œ ê²½ìš° ë§í¬ë„ ì•ˆë‚´í•´ì¤˜.`;
  const box = document.getElementById("csResult");

  box.innerText = "â³ AI ì‘ë‹µ ì¤‘...";

  try {
    const res = await axios.post("https://api.openai.com/v1/chat/completions", {
      model: "gpt-4",
      messages: [{ role: "user", content: prompt }]
    }, {
      headers: {
        Authorization: "Bearer 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",
        "Content-Type": "application/json"
      }
    });
    box.innerText = res.data.choices[0].message.content.trim();
  } catch (e) {
    box.innerText = "âŒ ì‘ë‹µ ì‹¤íŒ¨: " + e.message;
  }
}
</script>
</body>
</html>
