
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>AgriNexus AI ê³„ì•½ NFT í”Œë«í¼</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial; background: #f8f8f8; padding: 2rem; text-align: center; }
    img { width: 200px; margin: 1rem auto; }
    textarea, input, button { width: 100%; padding: 1rem; font-size: 1rem; margin: 0.5rem 0; border-radius: 6px; border: 1px solid #ccc; }
    button { background-color: #007c4d; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>

  <h1>ğŸ“„ AgriNexus AI ê³„ì•½ NFT í”Œë«í¼</h1>
  <img src="logo.png" alt="ë¡œê³ " />
  <textarea id="contractText" rows="6" placeholder="ê³„ì•½ì„œ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
  <input type="text" id="recipient" placeholder="ê³„ì•½ì„œ ìˆ˜ì‹ ì ì´ë©”ì¼ ì£¼ì†Œ" />
  <button onclick="createPDF()">ğŸ“¥ ê³„ì•½ì„œ PDF ìƒì„± + NFT ì¹´ë“œ ì‹œê°í™”</button>

  <div id="output" style="margin-top:2rem;"></div>

  <script>
    const { jsPDF } = window.jspdf;

    async function createPDF() {
      const text = document.getElementById("contractText").value;
      const recipient = document.getElementById("recipient").value;
      const doc = new jsPDF();

      // ë¡œê³ 
      const logoImg = new Image();
      logoImg.src = "logo.png";

      // ìºë¦­í„°
      const charImg = new Image();
      charImg.src = "ai_character.png";

      logoImg.onload = () => {
        doc.addImage(logoImg, "PNG", 150, 10, 40, 20);
        charImg.onload = () => {
          doc.addImage(charImg, "PNG", 10, 260, 30, 30);
          doc.setFontSize(12);
          doc.text("AgriNexus ê³„ì•½ì„œ", 20, 30);
          doc.text(`ìˆ˜ì‹ ì: ${recipient}`, 20, 40);
          const lines = doc.splitTextToSize(text, 170);
          doc.text(lines, 20, 50);
          doc.save("AgriNexus_Contract_with_Logo.pdf");
        };
      };

      // NFT ì‹œê°í™” ì¹´ë“œ
      const nftCard = `
        <div style="border:2px solid #007c4d; padding:1rem; background:#fff; border-radius:10px; max-width:400px; margin:1rem auto;">
          <img src="ai_character.png" style="width:80px;"><br/>
          <strong>ğŸ“„ ê³„ì•½ NFT</strong><br/>
          ìˆ˜ì‹ ì: ${recipient}<br/>
          ê³ ìœ ë²ˆí˜¸: AGX-${Date.now().toString().slice(-6)}<br/>
          <small>ì‹œê°í™” ì „ìš© ì¹´ë“œë¡œ ë¸”ë¡ì²´ì¸ ë°œí–‰ ê°€ëŠ¥</small>
        </div>
      `;
      document.getElementById("output").innerHTML = nftCard;

      // ìºë¦­í„° ìŒì„± ì¶œë ¥
      const voice = new SpeechSynthesisUtterance(`AgriNexus ê³„ì•½ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ìˆ˜ì‹ ìëŠ” ${recipient}ì…ë‹ˆë‹¤.`);
      voice.lang = "ko-KR";
      speechSynthesis.speak(voice);
    }
  </script>

</body>
</html>
