
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AgriNexus AI ì˜ˆì¸¡ + PDF ë¦¬í¬íŠ¸ + ê´€ë¦¬ì ì°¨íŠ¸</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body { font-family: Arial; background: #eef6f9; padding: 2rem; text-align: center; }
    input, button { padding: 0.7rem; margin: 0.4rem; width: 90%; max-width: 500px; border-radius: 6px; font-size: 1rem; border: 1px solid #ccc; }
    canvas { margin-top: 2rem; background: white; border-radius: 8px; }
    .output { margin-top: 1rem; color: #007c4d; font-size: 1.1rem; }
  </style>
</head>
<body>

  <h1>ğŸŒ¾ AgriNexus AI ê¸°ë°˜ ìƒìœ¡ ì˜ˆì¸¡ ë¦¬í¬íŠ¸</h1>

  <div>
    ì¼ì‚¬ëŸ‰ (W/mÂ²): <input id="sun" type="number" /><br/>
    ìˆ˜ë¶„ (%): <input id="moist" type="number" /><br/>
    ì˜¨ë„ (Â°C): <input id="temp" type="number" /><br/>
    <button onclick="predictGrowth()">ğŸ“ˆ AI ì˜ˆì¸¡ ì‹¤í–‰</button>
    <button onclick="generatePDF()">ğŸ“„ PDF ë¦¬í¬íŠ¸ ìƒì„±</button>
  </div>

  <div class="output" id="predictionOut"></div>

  <canvas id="growthChart" width="700" height="300"></canvas>

  <script>
    const growthData = [];

    function predictGrowth() {
      const sun = parseFloat(document.getElementById("sun").value);
      const moist = parseFloat(document.getElementById("moist").value);
      const temp = parseFloat(document.getElementById("temp").value);

      let result = "ğŸŒ± ì„±ì¥ ì •ìƒ";
      if (sun < 200 || moist < 20 || temp < 10) result = "âš ï¸ ì„±ì¥ ë¶ˆëŸ‰ ìœ„í—˜";
      else if (moist > 80 && temp > 30) result = "ğŸ’§ ê³¼ì‰ ìˆ˜ë¶„ ì£¼ì˜";

      document.getElementById("predictionOut").innerText = "AI ì˜ˆì¸¡ ê²°ê³¼: " + result;

      growthData.push({ x: new Date().toISOString(), y: moist });

      renderChart();
    }

    function renderChart() {
      const ctx = document.getElementById("growthChart").getContext("2d");
      new Chart(ctx, {
        type: "line",
        data: {
          datasets: [{
            label: "ğŸŒ¿ ì‹¤ì‹œê°„ í† ì–‘ ìˆ˜ë¶„ ë³€í™”ìœ¨",
            data: growthData,
            borderColor: "#007c4d",
            fill: false
          }]
        },
        options: {
          parsing: false,
          scales: {
            x: { type: 'time', time: { unit: 'minute' }, title: { display: true, text: 'ì‹œê°„' } },
            y: { beginAtZero: true, max: 100, title: { display: true, text: 'ìˆ˜ë¶„ (%)' } }
          }
        }
      });
    }

    function generatePDF() {
      const { jsPDF } = window.jspdf;
      const sun = document.getElementById("sun").value;
      const moist = document.getElementById("moist").value;
      const temp = document.getElementById("temp").value;
      const prediction = document.getElementById("predictionOut").innerText;

      const doc = new jsPDF();
      doc.setFontSize(14);
      doc.text("AgriNexus AI ì‘ë¬¼ ìƒìœ¡ ì˜ˆì¸¡ ë¦¬í¬íŠ¸", 20, 20);
      doc.setFontSize(11);
      doc.text(`ì¼ì‚¬ëŸ‰: ${sun} W/mÂ²`, 20, 40);
      doc.text(`ìˆ˜ë¶„: ${moist} %`, 20, 50);
      doc.text(`ì˜¨ë„: ${temp} Â°C`, 20, 60);
      doc.text(`ì˜ˆì¸¡ ê²°ê³¼: ${prediction}`, 20, 80);
      doc.text(`ë°œí–‰ ì‹œê°: ${new Date().toLocaleString()}`, 20, 100);

      doc.save("AgriNexus_Growth_Report.pdf");
    }
  </script>

</body>
</html>
